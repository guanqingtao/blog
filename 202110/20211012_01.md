## 德说-第39期, 用演绎、归纳法、第一性原理分析数据库未来趋势   
  
### 作者  
digoal  
  
### 日期  
2021-10-12   
  
### 标签  
PostgreSQL , 云原生 , 分布式 , 大规模协作 , 演绎 , 归纳 , 第一性原理     
  
----  
  
## 背景  
视频回放: https://www.bilibili.com/video/BV1kf4y1c7QW/         
  
## 公理(第一性)   
云数据库是未来:   
    - 据IDC报告, 2020年云部署形态的数据库, 在中国占比已达52%, 全球占比25%. 预计到 2025年 全球占比将达到52%, 中国占比73%.   
    - 云的规模化效应, 可以带来更低的成本. (利用率更高, 能耗比更好.)  
  
规模化协作是未来:   
    - 1 早在几万年前, 人类的祖先智人已经证明了这一点. 在几万年前, 地球上至少有6个人种, 智人并不算最出色的, 脑容量和体格都不如当时的尼安德特人种. 牛津大学历史学博士尤瓦尔·赫拉利在他的著作《人类简史》中详细论述了智人消灭尼安德特人的原因:   
        - 在狩猎和采集时代，部落之间的暴力冲突很常见，尤其是在自然灾害导致资源紧张的时期。当尼人和智人相遇必定会爆发暴力冲突，论赤手空拳地单打独斗，体魄强健的尼人一定可以摔断智人的胳膊，但智人不会空手与他们单挑。通过遗址发现和遗传学分析可以确定的是，尼人的部落规模比同时代的智人小得多, 当两个人种相遇，人多势众的智人将会占很大便宜. (与尼安德特人相比，智人的额头部分更大，这里是额叶，也是大脑最后演化的部分，负责语言、社交、情绪和逻辑思维，属于大脑中更高级复杂的能力。)  
    - 2 人类的文明经历了农耕、手工商、工业、数字信息化时代的变迁, 其核心表现是参与协作的人越来越多, 一个商品(例如iphone)可能涉及到N个国家、N种工种的参与.   
  
## 推导结论  
机器世界与人类社会是一样的, 都存在分工协作. 如果数据库是机器社会的一个物种, 那么规模化协作能力强的在未来会取代规模化协作能力差的. 所以:   
- 云原生、分布式数据库是未来的趋势.   
    - 各个赛道(关系、图、时序、宽列、KV、多模、分析、湖 等)涌现出来的分布式数据库如雨后春笋增加也是最好的证明 (ckdb, yugabyte, polardb, aurora, tidb, citus, polardb-x, tsdb, gdb, milvus ... ... )  
  
## 阿里云数据库开源的意义?    
推动云原生分布式数据库发展, 为数据库产业的未来铺路. 是阿里云数据库开源的意义和使命.   
  
## 阿里云开源数据库要解决什么问题?   
云上开展的业务大规模协作、降本增效问题.   
  
## 怎么解决这个问题?   
- 利用好云的优势(弹性、易用性)   
- 走出经验舒适区, 利用分布式架构解决大规模协作问题   
  
原则:    
- 兼容最大用户群体赛道.   
    - 避免增加学习成本, 吸收已有市场红利. 不能因为分布式造成对业务有损的问题(做到全兼容).    
- 易用性.   
    - 降低部署、维护的DBA人力成本, 把DBA从成本变成资产, 可以投入到产生业务价值的业务开发、架构设计中.    
- 稳定性.   
    - RPO, RTO, P99 等指标要做到比单机或传统HA架构至少提高1个数量级.   
- 弹性.   
    - 利用好云的能力, 更灵活的计算、存储扩缩容能力, 按量付费能力. 帮助用户降低成本, 增加效率.   
- 支持跨云部署.   
    - 解绑单一云厂商.   
  
## polardb pg, polardb-x, lindorm与其他开源产品的架构差异?   
- polardb pg,   
    - 兼容PostgreSQL生态, 完全兼容PG无功能损失. (由于是共享存储架构, 所以每个计算节点都可以看到全局数据, 因此不存在shared nothing架构引入的功能损耗问题.)   
    - 支持跨云部署、  
    - 便捷使用, 自带轻量化k8s管控平台、  
    - 计算存储分离(一份存储多份计算, 大幅度提升扩容效率, 降低只读实例成本)、  
    - 支持MPP并行计算能力满足HTAP场景需求、RPO=0.   
- PolarDB-X,   
    - 兼容MySQL生态,   
    - 管理便捷(增减节点自动数据重分布),   
    - 性能更好(更好的分布式事务、下推能力、跨节点的JOIN计算、千万级并发能力支撑双十一业务、MPP并行计算支持HTAP业务),   
    - 基于Paxos协议，数据强一致.   
- lindorm,   
    - 支撑工业物联网的数据底座. 满足工业数据的时序+宽表+流计算+计算的核心诉求.   
  
## 开源计划  
- 2021.10: polardb pg存储计算分离架构一期  
- 2021.12: polardb pg分布式架构一期  
- 2022.6: polardb pg共享存储架构二期 升级至PG V14、MPP  
- 2021.10: polardb-x  
- 2021.12: lindorm  
  
    
  
#### [期望 PostgreSQL 增加什么功能?](https://github.com/digoal/blog/issues/76 "269ac3d1c492e938c0191101c7238216")
  
  
#### [类似Oracle RAC架构的PostgreSQL已开源: 阿里云PolarDB for PostgreSQL云原生分布式开源数据库!](https://github.com/alibaba/PolarDB-for-PostgreSQL "57258f76c37864c6e6d23383d05714ea")
  
  
#### [PostgreSQL 解决方案集合](https://yq.aliyun.com/topic/118 "40cff096e9ed7122c512b35d8561d9c8")
  
  
#### [德哥 / digoal's github - 公益是一辈子的事.](https://github.com/digoal/blog/blob/master/README.md "22709685feb7cab07d30f30387f0a9ae")
  
  
![digoal's wechat](../pic/digoal_weixin.jpg "f7ad92eeba24523fd47a6e1a0e691b59")
  
  
#### [PolarDB 学习图谱: 训练营、培训认证、在线互动实验、解决方案、生态合作、写心得拿奖品](https://www.aliyun.com/database/openpolardb/activity "8642f60e04ed0c814bf9cb9677976bd4")
  
  
#### [购买PolarDB云服务折扣活动进行中, 55元起](https://www.aliyun.com/activity/new/polardb-yunparter?userCode=bsb3t4al "e0495c413bedacabb75ff1e880be465a")
  
  
#### [About 德哥](https://github.com/digoal/blog/blob/master/me/readme.md "a37735981e7704886ffd590565582dd0")
  
